(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{a358171f246576bf49b3:function(e,t,n){"use strict";n.r(t);var a=n("8af190b70a6bc55c6f1b"),r=n.n(a),o=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("a28fc3c963a1d4d1a2e5"),i=n("ab4cb61bcb2dc161defb"),f=n("adc20f99e57c573c589c"),u=n("d95b0cf107403b178365"),s=n("be8398e960b0b91d44d8"),d=n("3ce628fb1b73f2e77c5c"),b=n("147591b8ccc5c79a8a80"),l=n("51fca8ae494bcd2e342e"),p=n("fc255985717401ce029a"),v=n("16a878b1c9d56546f281"),h=n("087a56bfadbb8754ee8c"),y=n("d09b54f95d26c3715f57"),m=n("1bd6ac365ca5033d0977"),g=n("fe60b4be017efc620822"),w=n("43026589ce31a981be3e"),O=n("931d8239014a04cf188a"),j=n("675c63af38d8006155ed"),k=n("89ef450b68eff0bae7ba"),_=n("6c68d13fe9e3e77d8fc4"),R=n("bd183afcc37eabd79225"),D=n.n(R),S=n("5ea1dfe736dbf51a92a6"),x=n("4cad7676f6ad23a52c95");n("3592112b1ad760786c10");function Y(e){var t={};e.map(function(e){var n=Object(x.a)(e.date).format("MM/DD/YYYY"),a=e.recipe_name;return t[n]||(t[n]={}),t[n][a]?t[n][a].push(e):t[n][a]=[e],null});var n={};for(var a in t)for(var r in t[a])for(var o=0;o<t[a][r].length;o++){var c=t[a][r][o].total_cost_ingredient;n[a]||(n[a]={}),n[a][r]||(n[a][r]={cost:Number(c)}),n[a][r].cost=n[a][r].cost+Number(c)}return n}function A(e,t){t.map(function(t){var n=Object(x.a)(t.date).format("MM/DD/YYYY"),a=t.recipe_name;e[n]["".concat(a,"_revenue")]=t.sum});var n=[];for(var a in e)n.push(Object.assign({date:a},e[a]));for(var r=0;r<n.length;r++)for(var o in n[r])n[r][o].cost&&(n[r]["".concat(o,"_cost")]=n[r][o].cost,delete n[r][o]);return n.sort(function(e,t){var n=e.date.split("/"),a=t.date.split("/");return n[0]+n[1]-(a[0]+a[1])}),n}function M(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var E=regeneratorRuntime.mark(C),P=regeneratorRuntime.mark(K);function C(){var e,t,n,a,r,o,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_.d)(j.d);case 2:return e=i.sent,t=e.selectedRestaurant,i.prev=4,n={url:"/api/restaurant/getit",method:"post",data:{selectedRestaurant:Number(t)}},i.next=8,Object(_.b)(D.a,n);case 8:return a=i.sent,console.table("RESTAURANT QUERY",a),r=a.data.daySales,o=Y(a.data.salesInfo),c=A(o,r),i.next=15,Object(_.c)({type:S.c,info:a.data,salesAndRevenue:c});case 15:i.next=20;break;case 17:throw i.prev=17,i.t0=i.catch(4),i.t0;case 20:case"end":return i.stop()}},E,this,[[4,17]])}function K(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.e)(S.b,C);case 2:case"end":return e.stop()}},P,this)}var N,T=n("8d1b8f24d430d9cb3466"),U=n("cd133e4c94e38d795d73");function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t,n,a){N||(N="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&r)for(var c in r)void 0===t[c]&&(t[c]=r[c]);else t||(t=r||{});if(1===o)t.children=a;else if(o>1){for(var i=new Array(o),f=0;f<o;f++)i[f]=arguments[f+3];t.children=i}return{$$typeof:N,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function I(e,t){return!t||"object"!==$(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"RestaurantDashboard",function(){return ae});var q=B(s.a,{}),z=B("h1",{align:"center"},void 0,"Costs & Revenue"),F=B(d.a,{dataKey:"date"}),Q=B(b.a,{strokeDasharray:"3 3"}),G=B(l.a,{}),V=B("h1",{align:"center"},void 0,"Inventory"),W=B(b.a,{strokeDasharray:"3 3"}),X=B(d.a,{dataKey:"inventory_name"}),Z=B(p.a,{}),ee=B(l.a,{}),te=B(v.a,{}),ne=B(U.a,{active:!0,size:"massive",inline:"centered"}),ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,J(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){return B("div",{},void 0,q,z,this.props.info?B(h.a,{width:"100%",aspect:8/3},void 0,B(y.a,{data:this.props.all.salesAndRevenue,margin:{top:5,right:100,left:100,bottom:5}},void 0,F,B(p.a,{viewBox:{y:-80,width:100,height:100},label:{value:"US Dollars ($)",angle:-90,position:"left"},offset:"100"}),Q,G,B(v.a,{onClick:this.props.clickHandler}),this.props?Object.keys(this.props.all.salesAndRevenue[0]).map(function(e){if("date"!==e){var t=M();return B(m.a,{type:"monotone",dataKey:e,stroke:t})}}):null)):null,V,B(h.a,{width:"100%",aspect:8/3},void 0,this.props.info?B(g.a,{width:1800,height:900,data:this.props.info.inventoryData,margin:{top:5,right:100,left:100,bottom:5}},void 0,W,X,Z,ee,te,B(w.a,{dataKey:"quantity",fill:M()}),this.props.info.inventoryData.map(function(e,t){var n=M();return B(O.a,{fill:n})})):ne))}}])&&H(n.prototype,a),o&&H(n,o),t}(),re=Object(c.b)({info:Object(j.c)(),all:Object(j.a)(),id:j.b});var oe=Object(o.connect)(re,function(e){return{dispatch:e,onLoad:function(){return e(Object(T.a)())},clickHandler:function(e){console.log(e.value)}}}),ce=Object(u.a)({key:"restaurantDashboard",reducer:k.a}),ie=Object(f.a)({key:"restaurantDashboard",saga:K});t.default=Object(i.compose)(ce,ie,oe)(ae)}}]);