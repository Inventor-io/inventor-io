(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"90b4b18a9e157d3f2b22":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=(r("8a2d1b95e05b6a321e74"),r("4cad7676f6ad23a52c95")),c=r("d7dd51e1bf6bfc2c9c3d"),i=r("0d7f0986bcd2f33d8a2a"),u=r("a28fc3c963a1d4d1a2e5"),s=r("ab4cb61bcb2dc161defb"),f=r("7c8fca7d16f10dc3ca35"),d=r("2fb9df661a39bafbf27e"),p=r("bf479727ef34adb276a5"),l=r("ea5a8737dcc1e62b0258"),b=r("da310028ba2a28510514"),v=r("f424be1b0d3092aa1b62"),h=r("be8398e960b0b91d44d8"),m=r("adc20f99e57c573c589c"),y=r("d95b0cf107403b178365"),O=r("54f683fcda7806277002"),g="app/PurchaseComplete/FETCH_ORDERLIST",j="app/PurchaseComplete/PASS_ORDERLIST",w="app/ShoppingCart/MAKE_IT_ARRIVE";function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=Object(O.fromJS)({orderList:[],i:0});var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object.assign({},e,{orderList:t.orderList});case w:return Object.assign({},e,{orderList:e.orderList.map(function(e,r){var n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){P(e,t,r[t])})}return e}({},e);return r===t.i&&(n.Delivered=!0),n}),i:t.i});default:return e}},C=function(e){return e.get("purchaseComplete",S)},R=function(){return Object(u.a)(C,function(e){return e.orderList})};var L,D=r("bd183afcc37eabd79225"),x=r.n(D),_=r("6c68d13fe9e3e77d8fc4"),T=r("675c63af38d8006155ed"),I=regeneratorRuntime.mark(M),E=regeneratorRuntime.mark(H),A=regeneratorRuntime.mark(Y);function M(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(_.e)(g,H),Object(_.e)(w,Y)];case 2:case"end":return e.stop()}},I,this)}function H(){var e,t,r,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(_.d)(T.d);case 2:return e=a.sent,t=e.selectedRestaurant,r={url:"api/inventory/fetchPrevOrders",method:"POST",data:{id:t}},a.prev=5,a.next=8,Object(_.b)(x.a,r);case 8:return n=a.sent,a.next=11,Object(_.c)((o=n.data,{type:j,orderList:o}));case 11:a.next=15;break;case 13:a.prev=13,a.t0=a.catch(5);case 15:case"end":return a.stop()}var o},E,this,[[5,13]])}function Y(){var e,t,r,n,a,o,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(_.d)(C);case 2:return e=i.sent,t=e.orderList,r=e.i,n=t[r],i.next=8,Object(_.d)(T.d);case 8:return a=i.sent,o=a.selectedRestaurant,c={url:"/api/inventory/deliverIt",method:"POST",data:{changeThis:n,id:o}},i.prev=11,i.next=14,Object(_.b)(x.a,c);case 14:i.next=19;break;case 16:i.prev=16,i.t0=i.catch(11),console.log(i.t0);case 19:case"end":return i.stop()}},A,this,[[11,16]])}function F(e){return(F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t,r,n){L||(L="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var c in a)void 0===t[c]&&(t[c]=a[c]);else t||(t=a||{});if(1===o)t.children=n;else if(o>1){for(var i=new Array(o),u=0;u<o;u++)i[u]=arguments[u+3];t.children=i}return{$$typeof:L,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return!t||"object"!==F(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,"PurchaseComplete",function(){return W});var V=J(i.Helmet,{},void 0,J("title",{},void 0,"PurchaseComplete"),J("meta",{name:"description",content:"Description of PurchaseComplete"})),q=J(h.a,{}),z=J(f.a,{as:"h1"},void 0,"My Orders"),G=J(d.a.Row,{},"None"),Q=J(p.a,{name:"chevron left"}),U=J(p.a,{name:"chevron right"}),W=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=B(this,K(t).call(this,e))).state={start:0},r}var r,n,c;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,a.a.Component),r=t,(n=[{key:"componentDidMount",value:function(){this.props.fetch()}},{key:"moveToPage",value:function(e){var t=this;e>0&&this.setState(function(){return t.setState({start:10*(e-1)})})}},{key:"incrementPage",value:function(){var e=this;this.state.start+10<this.props.orderList.length&&this.setState(function(t){return e.setState({start:t.start+10})})}},{key:"decrementPage",value:function(){var e=this;this.state.start&&this.setState(function(t){return e.setState({start:t.start+10})})}},{key:"render",value:function(){var e=this,t=this.props.orderList?Math.ceil(this.props.orderList.length/10):0;return J("div",{},void 0,V,q,J(l.a,{},void 0,z,J(d.a,{unstackable:!0},void 0,J(d.a.Header,{},void 0,J(d.a.Row,{},"header",["ndbno","Item","Orders","Price","Date","Delivered","Arrived"].map(function(e){return J(d.a.HeaderCell,{},"".concat(e),e)}))),J(d.a.Body,{},void 0,this.props.orderList?this.props.orderList.slice(this.state.start,this.state.start+10).map(function(t,r){return J(d.a.Row,{},r.toString(),["ndbno","Item","Orders","Price","Date","Delivered","Arrived"].map(function(n){return J(d.a.Cell,{},"".concat(n).concat(r.toString()),"Delivered"===n?t.Delivered?"True":"False":"Date"===n?Object(o.a)(t[n]).format("MM/DD/YYYY h:mm"):"Arrived"===n?J(b.a,{value:r,icon:"truck",onClick:function(){return e.props.arrived(r)}}):"Price"===n?"$".concat(t[n].toFixed(2)):t[n])}))}):G)),J(v.a,{floated:"right",pagination:!0},void 0,J(v.a.Item,{as:"a",icon:!0,onClick:function(){return e.decrementPage()}},void 0,Q),Array(t).fill(0).map(function(t,r){return J(v.a.Item,{as:"a",onClick:function(){return e.moveToPage(r+1)}},void 0,r+1)}),J(v.a.Item,{as:"a",icon:!0,onClick:function(){return e.incrementPage()}},void 0,U))))}}])&&$(r.prototype,n),c&&$(r,c),t}(),X=Object(u.b)({orderList:R()});var Z=Object(c.connect)(X,function(e){return{fetch:function(){return e({type:g})},arrived:function(t){return e(function(e){return{type:w,i:e}}(t))}}}),ee=Object(y.a)({key:"purchaseComplete",reducer:k}),te=Object(m.a)({key:"purchaseComplete",saga:M});t.default=Object(s.compose)(ee,te,Z)(W)}}]);