(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"89c89e707123a4008719":function(e,t,a){"use strict";a.r(t);var n=a("8af190b70a6bc55c6f1b"),r=a.n(n),o=(a("8a2d1b95e05b6a321e74"),a("d7dd51e1bf6bfc2c9c3d")),i=a("0d7f0986bcd2f33d8a2a"),s=a("a28fc3c963a1d4d1a2e5"),l=a("ab4cb61bcb2dc161defb"),c=a("2fb9df661a39bafbf27e"),u=a("2a75d1bf8961d1e9e83c"),d=a("da310028ba2a28510514"),f=a("07d64e89d39e5a791727"),p=a.n(f),b=(a("f85e09def79cc2a20bc2"),a("4cad7676f6ad23a52c95")),v=a("bd183afcc37eabd79225"),h=a.n(v),y=a("be8398e960b0b91d44d8"),g=a("adc20f99e57c573c589c"),m=a("d95b0cf107403b178365"),P=a("54f683fcda7806277002"),C="app/SalesPage/DEFAULT_ACTION",O="app/SalesPage/CHANGE_INPUT",S="app/SalesPage/UPDATE_SALES_LIST";function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=Object(P.fromJS)({salesList:[]});var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return e;case O:return Object.assign({},e,{salesList:e.salesList.map(function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){w(e,t,a[t])})}return e}({},e);return a.recipe_id===t.modify&&(a.quantity=t.value),a})});case S:return console.log("in reducer: ",t),Object.assign({},e,{salesList:t.list.map(function(e){return Object.assign({},e,{quantity:""})})});default:return e}},A=function(e){return e.get("salesPage",j)},k=a("5e98cee1846dbfd41421"),x=a("675c63af38d8006155ed");var D,L=regeneratorRuntime.mark(N);function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},L,this)}function H(e){return(H="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t,a,n){D||(D="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===o)t.children=n;else if(o>1){for(var s=new Array(o),l=0;l<o;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:D,type:e,key:void 0===a?null:""+a,ref:null,props:t,_owner:null}}function q(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"SalesPage",function(){return W});var F={textAlign:"right"},M=R(i.Helmet,{},void 0,R("title",{},void 0,"SalesPage"),R("meta",{name:"description",content:"Description of SalesPage"})),Y=R(y.a,{}),J=R("br",{}),U=R("h2",{className:"sales-header"},void 0,"Enter Sales"),B=R(c.a.Header,{},void 0,R(c.a.Row,{},void 0,R(c.a.HeaderCell,{textAlign:"left"},void 0,"Recipe Name"),R(c.a.HeaderCell,{},void 0,"Price"),R(c.a.HeaderCell,{},void 0,"Amount Sold"),R(c.a.HeaderCell,{},void 0,"Revenue"))),Q=R(c.a.Header,{},void 0,R(c.a.Row,{},void 0,R(c.a.HeaderCell,{textAlign:"left"},void 0,"Recipe Name"),R(c.a.HeaderCell,{},void 0,"Price"),R(c.a.HeaderCell,{},void 0,"Amount Sold"),R(c.a.HeaderCell,{},void 0,"Total Revenue"))),z=R("br",{}),G=R("br",{}),K=R("br",{}),V=R("br",{}),W=function(e){function t(){var e,a,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=this,a=!(r=(e=E(t)).call.apply(e,[this].concat(i)))||"object"!==H(r)&&"function"!==typeof r?$(n):r,I($($(a)),"state",{startDate:new Date}),I($($(a)),"handleChange",a.handleChange.bind($($(a)))),I($($(a)),"handleSubmit",a.handleSubmit.bind($($(a)))),a}var a,n,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,r.a.Component),a=t,(n=[{key:"componentDidMount",value:function(){this.props.handleMount(this.props.restaurant.recipes)}},{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"handleSubmit",value:function(){var e=this;!function(){for(var t=!0,a=e.props.salesPage.salesList,n=0;n<a.length;n+=1)""===a[n].quantity&&(t=!1);return t}()?alert("please input amounts or zero for all recipes"):(h.a.post("/api/auth/sales",{date:this.state.startDate,salesList:this.props.salesPage}),k.a.push("/dashboard"))}},{key:"render",value:function(){var e=this;return R("div",{},void 0,M,Y,R("div",{className:"salesPage"},void 0,J,U,this.props.salesPage.salesList?R(c.a,{unstackable:!0,textAlign:"right",className:"sales-table"},void 0,B,R(c.a.Body,{},void 0,this.props.salesPage.salesList.map(function(t){return R(c.a.Row,{},t.recipe_id,R(c.a.Cell,{textAlign:"left"},void 0,t.recipe_name),R(c.a.Cell,{},void 0,"$",t.price.toFixed(2)),R(c.a.Cell,{},void 0,R(u.a,{type:"number",min:"0",pattern:"[0-9]",name:"quantity",placeholder:"Quantity",onChange:function(a){return e.props.handleChange(a,t.recipe_id)}})),R(c.a.Cell,{},void 0,t.quantity?"$".concat((t.price*parseInt(t.quantity,10)).toFixed(2)):"$0"))}))):R(c.a,{unstackable:!0,textAlign:"right",className:"sales-table"},void 0,Q,R(c.a.Body,{},void 0,this.props.restaurant.recipes.map(function(t){return R(c.a.Row,{},t.recipe_id,R(c.a.Cell,{textAlign:"left"},void 0,t.recipe_name),R(c.a.Cell,{},void 0,"$",t.price.toFixed(2)),R(c.a.Cell,{},void 0,R(u.a,{type:"number",name:"quantity",placeholder:"Quantity",onChange:function(a){return e.props.handleChange(a,t.recipe_id)}})),R(c.a.Cell,{},void 0,1===t.quantity?"$".concat((t.price*parseInt(t.quantity,10)).toFixed(2)):"$0"))}))),R("h2",{style:F,className:"sales-total"},void 0,"Total Revenue: $",this.props.salesPage.salesList?this.props.salesPage.salesList.reduce(function(e,t){return e+(parseInt(t.quantity,10)?parseInt(t.quantity,10):0)*t.price},0).toFixed(2):"0"),z,R("h2",{className:"sales-header-sold"},void 0,"Sold on : ",Object(b.a)(this.state.startDate).format("MM/DD/YYYY")),R("div",{className:"sales-sold"},void 0,G,R(p.a,{inline:!0,selected:this.state.startDate,onChange:this.handleChange})),K,V,R(d.a,{type:"button",onClick:this.handleSubmit,className:"enter-sales"},void 0,"Add Sales Information")))}}])&&q(a.prototype,n),o&&q(a,o),t}(),X=Object(s.b)({salesPage:A,restaurant:Object(x.c)()});var Z=Object(o.connect)(X,function(e){return{dispatch:e,handleChange:function(t,a){return t.preventDefault(),e((n=a,r=t.target.value,{type:O,modify:n,value:r}));var n,r},handleMount:function(t){return e({type:S,list:t})}}}),ee=Object(m.a)({key:"salesPage",reducer:_}),te=Object(g.a)({key:"salesPage",saga:N});t.default=Object(l.compose)(ee,te,Z)(W)}}]);