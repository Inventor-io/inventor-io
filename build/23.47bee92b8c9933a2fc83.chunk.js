(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"86365a92687bbc663815":function(e,t,n){"use strict";n.r(t);var r=n("8af190b70a6bc55c6f1b"),o=n.n(r),a=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),c=n("0d7f0986bcd2f33d8a2a"),i=n("a28fc3c963a1d4d1a2e5"),l=n("ab4cb61bcb2dc161defb"),u=n("adc20f99e57c573c589c"),p=n("d95b0cf107403b178365"),f=n("be8398e960b0b91d44d8"),s=(n("3bc1d63dca15746806cf"),n("7c8fca7d16f10dc3ca35")),d=n("ea5a8737dcc1e62b0258"),b=n("da310028ba2a28510514"),y=n("54f683fcda7806277002"),v="app/RecipePage/GET_RECIPES",m="app/RecipePage/DELETE_RECIPE",h="app/RecipePage/UPDATE_RECIPELIST",g=Object(y.fromJS)({});var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return e;case h:return Object.assign({},e,{recipeList:t.recipeList});default:return e}},R=function(e){return e.get("recipePage",g)},O=n("6c68d13fe9e3e77d8fc4"),j=n("bd183afcc37eabd79225"),_=n.n(j),P=n("675c63af38d8006155ed"),S=regeneratorRuntime.mark(x),k=regeneratorRuntime.mark(E),C=regeneratorRuntime.mark(D);function x(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.a)([Object(O.e)(v,D),Object(O.e)(m,E)]);case 2:case"end":return e.stop()}},S,this)}function E(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,Object(O.d)(P.d);case 3:return t=c.sent,n=t.selectedRestaurant,r={url:"/api/recipe",method:"delete",params:{recipe_id:e.payload.recipe_id,restaurant_id:Number.parseInt(n,10)}},c.next=8,Object(O.b)(_.a,r);case 8:return o=c.sent,a=o.data,c.next=12,Object(O.c)({type:h,recipeList:a});case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(0),console.log("Error in sagaDeleteRecipe:",c.t0);case 17:case"end":return c.stop()}},k,this,[[0,14]])}function D(){var e,t,n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(O.d)(P.d);case 3:return e=a.sent,t=e.selectedRestaurant,n={url:"/api/recipe/get?restaurant=".concat(t),method:"get"},console.log("Sending GET to".concat(n.url)),a.next=9,Object(O.b)(_.a,n);case 9:return r=a.sent,o=r.data,console.log("Response:",o),a.next=14,Object(O.c)({type:h,recipeList:o});case 14:a.next=19;break;case 16:throw a.prev=16,a.t0=a.catch(0),a.t0;case 19:case"end":return a.stop()}},C,this,[[0,16]])}var L,M=n("5e98cee1846dbfd41421"),A=n("2fb9df661a39bafbf27e"),T=n("bf479727ef34adb276a5"),H=n("344977176ae9f8bae630");function I(e){return(I="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t,n,r){L||(L="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}return{$$typeof:L,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var B,F=$(A.a.HeaderCell,{textAlign:"left"},void 0,"Name"),U=$(A.a.HeaderCell,{},void 0,"Price"),q=$(A.a.HeaderCell,{}),K=$(T.a,{name:"edit"}),Q=$(T.a,{name:"trash alternate"}),V=$(A.a.Row,{},void 0,$(A.a.Cell,{textAlign:"center",colSpan:"4"},void 0,"Please make a recipe")),W=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=z(t).call(this,e))||"object"!==I(o)&&"function"!==typeof o?N(r):o).state={showDeleteModal:!1,modalRow:null},n.toggleDeleteModal=n.toggleDeleteModal.bind(N(N(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"toggleDeleteModal",value:function(e){this.setState(function(t){return t.showDeleteModal?{showDeleteModal:!1,modalRow:null}:{showDeleteModal:!0,modalRow:e}})}},{key:"render",value:function(){var e=this,t=this.props.recipeList.recipeList;return $("div",{},void 0,$(A.a,{unstackable:!0,textAlign:"right"},void 0,$(A.a.Header,{},void 0,$(A.a.Row,{},void 0,F,U,q)),$(A.a.Body,{},void 0,t&&t.length?t.map(function(t){return $(A.a.Row,{},t.recipe_id,$(A.a.Cell,{textAlign:"left"},void 0,t.recipe_name),$(A.a.Cell,{},void 0,"$",t.price.toFixed(2)),$(A.a.Cell,{},void 0,$(b.a,{size:"tiny",icon:!0,onClick:function(){return M.a.push("/editRecipe?id=".concat(t.recipe_id,"&name=").concat(t.recipe_name,"&price=").concat(t.price))}},void 0,K),$(H.a,{trigger:$(b.a,{size:"tiny",icon:!0,onClick:function(){e.toggleDeleteModal(t)}},void 0,Q),open:e.state.showDeleteModal},void 0,$(H.a.Header,{},void 0,'Are you sure you want to delete "',e.state.modalRow?e.state.modalRow.recipe_name:null,'"?'),$(H.a.Content,{},void 0,$(b.a,{content:"Cancel",onClick:e.toggleDeleteModal}),$(b.a,{color:"red",content:"Delete",onClick:function(){e.props.deleteRecipe(e.state.modalRow.recipe_id),e.toggleDeleteModal()}})))))}):V)))}}])&&J(n.prototype,r),a&&J(n,a),t}(),X=n("417b1c3283b3ea627d8a");function Y(e){return(Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t,n,r){B||(B="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var i=new Array(a),l=0;l<a;l++)i[l]=arguments[l+3];t.children=i}return{$$typeof:B,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return!t||"object"!==Y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"RecipePage",function(){return ie});var oe=Z(c.Helmet,{},void 0,Z("title",{},void 0,"RecipePage"),Z("meta",{name:"description",content:"Description of RecipePage"})),ae=Z(f.a,{}),ce=Z(s.a,{as:"h1"},void 0,"Recipes"),ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=te(this,ne(t).call(this,e))).props.getRecipeList(),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(t,o.a.PureComponent),n=t,(r=[{key:"render",value:function(){this.props.restaurantList.restaurants.map(function(e){return{text:e.restaurants_name,value:e.id}});return Z("div",{},void 0,oe,ae,Z(d.a,{},void 0,ce,Z("div",{},void 0,!1,Z(W,{recipeList:this.props.recipeList,deleteRecipe:this.props.dispatchDeleteRecipe}),Z(b.a,{color:"green",content:"Add a new recipe",onClick:function(){return M.a.push("/addRecipe")}}))))}}])&&ee(n.prototype,r),a&&ee(n,a),t}(),le=Object(i.b)({restaurantList:Object(X.a)(),selectedRestaurant:Object(P.a)(),recipeList:Object(i.a)(R,function(e){return e})});var ue=Object(a.connect)(le,function(e){return{dispatchDeleteRecipe:function(t){return e(function(e){return{type:m,payload:{recipe_id:e}}}(t))},getRecipeList:function(){return e({type:v})}}}),pe=Object(p.a)({key:"recipePage",reducer:w}),fe=Object(u.a)({key:"recipePage",saga:x});t.default=Object(l.compose)(pe,fe,ue)(ie)}}]);