(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"4cb588765b9a6bf94f24":function(e,n,t){"use strict";t.r(n);var r=t("8af190b70a6bc55c6f1b"),o=t.n(r),a=(t("8a2d1b95e05b6a321e74"),t("d7dd51e1bf6bfc2c9c3d")),c=t("0d7f0986bcd2f33d8a2a"),i=t("a28fc3c963a1d4d1a2e5"),d=t("ab4cb61bcb2dc161defb"),s=t("7c8fca7d16f10dc3ca35"),u=t("e611802de0dc9f8f11c2"),p=t("ea5a8737dcc1e62b0258"),f=t("6b20a4038fb2adfb033d"),b=t("da310028ba2a28510514"),l=t("b57570cc703435a24b60"),v=t("168d59fdf8fdd49ca152"),h=(t("3bc1d63dca15746806cf"),t("adc20f99e57c573c589c")),y=t("d95b0cf107403b178365"),g=t("be8398e960b0b91d44d8"),m=t("54f683fcda7806277002"),O="app/AddInventory/UPDATE_SEARCHTERM",j="app/AddInventory/SEND_QUERY",I="app/AddInventory/UPDATE_DROPDOWN_OPTIONS",S="app/AddInventory/UPDATE_SELECT",T="app/AddInventory/SAVE_INV_TO_DB",w="app/AddInventory/REMOVE_ITEM",_="app/AddInventory/REDIRECT",x=Object(m.fromJS)({options:[],addedIngredients:[],searchTerm:"",ingredient:[],remove:""});var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case O:return Object.assign({},e,{searchTerm:n.searchTerm});case I:return Object.assign({},e,{options:n.options});case S:return Object.assign({},e,{addedIngredients:e.addedIngredients?e.addedIngredients.concat(e.options[n.ingredient]):[e.options[n.ingredient]]});case w:return Object.assign({},e,{addedIngredients:[].concat(e.addedIngredients.slice(0,n.i)).concat(e.addedIngredients.slice(n.i+1))});case _:return Object.assign({},e,{options:[],addedIngredients:[],searchTerm:"",ingredient:[],remove:""});default:return e}},E=function(e){return e.get("addInventory",x)};var R,k=t("6c68d13fe9e3e77d8fc4"),D=t("bd183afcc37eabd79225"),C=t.n(D),P=t("accfe20dac886d57b695"),B=t("675c63af38d8006155ed"),N=regeneratorRuntime.mark(M),U=regeneratorRuntime.mark(V),J=regeneratorRuntime.mark(H);function M(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)([Object(k.e)(j,V),Object(k.e)(T,H)]);case 2:case"end":return e.stop()}},N,this)}function V(){var e,n,t,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object(k.d)(E);case 2:return e=o.sent,n=e.searchTerm,t={url:"/api/inventory/usdaSearch",method:"post",data:{searchTerm:n}},o.prev=5,o.next=8,Object(k.b)(C.a,t);case 8:return r=o.sent,o.next=11,Object(k.c)((a=r.data,{type:I,options:a}));case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(5),o.next=17,console.error(o.t0);case 17:case"end":return o.stop()}var a},U,this,[[5,13]])}function H(){var e,n,t,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(k.d)(E);case 2:return e=a.sent,n=e.addedIngredients,a.next=6,Object(k.d)(B.d);case 6:return t=a.sent,r=t.selectedRestaurant,o={url:"/api/inventory/addIngToDB",method:"post",data:{ingObj:n,id:r}},a.prev=9,a.next=12,Object(k.b)(C.a,o);case 12:return a.next=14,Object(k.c)({type:_});case 14:return a.next=16,Object(k.c)(Object(P.push)("/inventory"));case 16:a.next=22;break;case 18:return a.prev=18,a.t0=a.catch(9),a.next=22,console.error(a.t0);case 22:case"end":return a.stop()}},J,this,[[9,18]])}function $(e){return($="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,n,t,r){R||(R="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={children:void 0}),n&&o)for(var c in o)void 0===n[c]&&(n[c]=o[c]);else n||(n=o||{});if(1===a)n.children=r;else if(a>1){for(var i=new Array(a),d=0;d<a;d++)i[d]=arguments[d+3];n.children=i}return{$$typeof:R,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function F(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,n){return!n||"object"!==$(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,n){return(W=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.d(n,"AddInventory",function(){return Z});var Y=z(c.Helmet,{},void 0,z("title",{},void 0,"AddInventory"),z("meta",{name:"description",content:"Description of AddInventory"})),q=z(g.a,{}),G=z(s.a,{as:"h1"},void 0,"Add an ingredient..!"),K=z(u.a,{}),X=z(s.a,{as:"h3"},void 0,"Selected Items:"),Z=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),L(this,Q(n).apply(this,arguments))}var t,r,a;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&W(e,n)}(n,o.a.Component),t=n,(r=[{key:"render",value:function(){var e=this;return z("div",{},void 0,Y,q,z(p.a,{},void 0,G,z(f.a,{},void 0,z(f.a.Field,{},void 0,z("input",{placeholder:"Search Ingredient",onChange:this.props.handleChange,size:"large"})),z(b.a,{content:"Search!",onClick:function(n){return e.props.handleSearch(n,e.props.searchTerm)}})),z(l.a,{selection:!0,onChange:this.props.handleSelect,placeholder:"Select your ingredient",options:this.props.options?this.props.options.map(function(e,n){return{text:e.inventory_name,value:n}}):[]}),K,z("div",{},void 0,X,z(v.a,{bulleted:!0},void 0,this.props.addedIngredients?this.props.addedIngredients.map(function(n,t){return z(v.a.Item,{},t.toString(),n.inventory_name,z(b.a,{icon:"delete",onClick:function(){return e.props.handleRemove(t)},value:n.inventory_name}))}):""),z(b.a,{content:"Add to inventory list",onClick:function(n){return e.props.saveToDB(n)}}))))}}])&&F(t.prototype,r),a&&F(t,a),n}(),ee=Object(i.b)({searchTerm:Object(i.a)(E,function(e){return e.searchTerm}),options:Object(i.a)(E,function(e){return e.options}),ingredient:Object(i.a)(E,function(e){return e.ingredient}),addedIngredients:Object(i.a)(E,function(e){return e.addedIngredients})});var ne=Object(a.connect)(ee,function(e){return{handleChange:function(n){return e((t=n.target.value,{type:O,searchTerm:t}));var t},handleSearch:function(n,t){return n.preventDefault(),e({type:j})},handleRemove:function(n){return e(function(e){return{type:w,i:e}}(n))},handleSelect:function(n,t){return e((r=t.value,{type:S,ingredient:r}));var r},saveToDB:function(n){return n.preventDefault(),e({type:T})}}}),te=Object(y.a)({key:"addInventory",reducer:A}),re=Object(h.a)({key:"addInventory",saga:M});n.default=Object(d.compose)(te,re,ne)(Z)}}]);