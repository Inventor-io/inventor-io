language: node_js
node_js:
- node
- lts/*
script:
- node ./internals/scripts/generate-templates-for-linting
- npm test -- --maxWorkers=4
- npm run build
before_install:
- export CHROME_BIN=chromium-browser
- export DISPLAY=:99.0
- sh -e /etc/init.d/xvfb start
notifications:
  email:
    on_failure: change
after_success: npm run coveralls
cache:
  directories:
  - node_modules
deploy:
  provider: s3
  bucket: hratx-thesis
  region: us-east-2
  local_dir: build
  access_key_id: AKIAJ7YHT67VY56AWVBQ
  secret_access_key:
    secure: YaJQ2ZfllQCP8zEkzf+BcAMvYVzUW/wXzw9DxE/gV4sK+sKtd7a9Fq2+VCSdDBx1iL0M3wmdm4CQJxgj8De/VMLP+Eaccj0f/WCp4W9zaXtT9ODWtO5CUXjDFtcX3XrUbTvJdIcQjP4ZX3rn00vR4bj2UGq7RQfIfJLyA8/jqliQ2Glo+pMW17mTOSDVhSauwNlD6XmjALkaunm7Na7GhyT4IiRD/oLBS39E6bRhL41uLsoi/B1bkGKwrxn4gfTacjLWb0+um7vEaysjoP9/29pbis3Lfwe550IXrpPwOoBnE90DzxBAhyuVz5BnqxjioEaKgTEedmOQRCYbyqAczo4bPZtVrv3ecIdQ4n8WalrmksnZqfmbxd+kR+uagSEjEdx7IngNVYlY2ziAMQkSwIL6Lk8SosALt/4HFXauuVT4tB394rjXPggRmBy9zm6k7TJsJA9O1eylw1192EX0TICgk7gA8S+X/mozigGQQcAikrgR/H2IBYWtDPbhbFxah0IVJlESuYRWujZWEsVix7jmTGSr6/JWkK+uoVbfQB5RFmJM9QNm2bW+PkGButucT3H0nybg+4OUVie0xP5CG9wK6IVbAe9Nf2Jx/utrOJdKIP4d2MnrCOHl1BGqWdKzUhBOZSmYbI/M0/1TqWWEgeQZ/Mk14izSMWhkeiz1SfY=
  skip_cleanup: true
